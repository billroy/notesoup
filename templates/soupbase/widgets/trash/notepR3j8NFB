{"restore":"{notesoup.saveNoteList(this.notelist);}","xPos":25,"from":"widgets from widgets/access","bgcolor":"#8080f0","text":"<center>Thu Nov 29 2007 07:15:26 GMT-0700 (MST)<br/><input type='submit' value='click to restore' onclick='notesoup.ui.getEnclosingNote(this).calleventhandler(\"restore\");'/></center>","yPos":519,"height":88,"width":250,"notelist":[{"xPos":802,"from":"soupmaster in soupmaster/@foo","bgcolor":"#FF00FF","text":"","yPos":86,"height":55,"zIndex":73,"width":150,"notename":"Host","mtime":1196345363.739932},{"xPos":551,"from":"soupmaster in soupmaster/@foo","bgcolor":"#99CCFF","text":"A user with Write permission can edit and save a note, as well as do anything a user with Read or Append permission may do.<br/>\n","yPos":200,"height":100,"zIndex":38,"width":"250","notename":"Write Permission","mtime":1196345324.776742},{"xPos":549,"from":"soupmaster in soupmaster/@foo","bgcolor":"#99CCFF","text":"If you are the Owner of a folder, you automatically have Read, Write, and Append on the items in it.<br/>\n<br/>\nAdditionally, you may create and delete folders, and edit the ACL for a folder to control who does what to it.<br/>\n","yPos":46,"height":145,"zIndex":37,"width":"250","notename":"Owner Permission","mtime":1196345300.952762},{"xPos":556,"from":"soupmaster in soupmaster/@foo","bgcolor":"#99CCFF","text":"A user with Append permission can send notes into the workspace and save new notes in the workspace.  (Saving over an existing note requires Write permission.)<br/>\n","yPos":312,"height":115,"zIndex":39,"width":"250","notename":"Append Permission","mtime":1196345340.766495},{"xPos":15,"from":"soupmaster in soupmaster/@foo","width":"250","text":"<script type='text/javascript'>\n/**\n*\tnotesoup-ui-folderacl.js - Note Soup folder permissions UI\n*\tCopyright 2007 by Bill Roy\n*\tAll rights reserved.\n*/\nvar note = notesoup.ui.getEnclosingNote(this);\nnote.set({\n\tnotename: 'Folder Access Control',\n\tbgcolor: '#99ccff',\n\n\trenderform: function() {\n\t\tthis.setContentDiv('');\n\t\tthis.getform().render(this.getContentDiv());\n\t},\n\n\tgetdata: function(key) {\n\t\tif ('folderacl' in notesoup) return notesoup.folderacl[key];\n\t\treturn '';\n\t},\n\n\tgetform: function() {\n\t\tvar theForm = this.getEphemeral('folderACLForm');\n\t\tif (theForm) return theForm;\n\n\t\tvar folderACLForm = new Ext.form.Form({\n\t\t\tlabelWidth: 70,\n\t\t\tminButtonWidth: 50 \n\t\t});\n\t\tfolderACLForm.add(new Ext.form.TextField({\n\t\t\tfieldLabel: 'Folder',\n\t\t\tid: 'folder-' + this.id,\n\t\t\tname: 'folder',\n\t\t\tvalue: this.getdata('folder'),\n\t\t\twidth: this.width - 36 - 76\n\t\t}));\n\t\tfolderACLForm.add(new Ext.form.TextArea({\n\t\t\tfieldLabel: 'Read',\n\t\t\tid: 'readers-' + this.id,\n\t\t\tname: 'readers',\n\t\t\tvalue: this.getdata('readers'),\n\t\t\twidth: this.width - 36 - 76\n\t\t}));\n\t\tfolderACLForm.add(new Ext.form.TextArea({\n\t\t\tfieldLabel: 'Write',\n\t\t\tid: 'editors-' + this.id,\n\t\t\tname: 'editors',\n\t\t\tvalue: this.getdata('editors'),\n\t\t\twidth: this.width - 36 - 76\n\t\t}));\n\t\tfolderACLForm.add(new Ext.form.TextArea({\n\t\t\tfieldLabel: 'Append',\n\t\t\tid: 'senders-' + this.id,\n\t\t\tname: 'senders',\n\t\t\tvalue: this.getdata('senders'),\n\t\t\twidth: this.width - 36 - 76\n\t\t}));\n\n\t\tfolderACLForm.addButton({\n\t\t\ttext: 'save',\n\t\t\thandler: this.saveACL,\n\t\t\tscope: this\n\t\t});\n\t\tfolderACLForm.addButton({\n\t\t\ttext: 'refresh',\n\t\t\thandler: this.refresh,\n\t\t\tscope: this\n\t\t});\n\t\tfolderACLForm.addButton({\n\t\t\ttext: 'done',\n\t\t\thandler: this.destroy,\n\t\t\tscope: this\n\t\t});\n\n\t\tthis.setContentDiv('');\n\t\tfolderACLForm.render(this.getContentDiv());\n\t\tthis.setEphemeral('folderACLForm', folderACLForm);\n\t\tthis.onrender = this.renderform;\n\t\treturn folderACLForm;\n\t},\n\n\tsaveACL: function() {\n\t\tvar v = this.getform().getValues();\n\t\tnotesoup.setFolderACL(v['folder'], {\n\t\t\t'senders': v['senders'],\n\t\t\t'readers': v['readers'],\n\t\t\t'editors': v['editors']\n\t\t});\n\t},\n\n\tupdateValues: function() {\n\t\tthis.getform().setValues({\n\t\t\tfolder: notesoup.folderacl.folder,\n\t\t\tsenders: notesoup.folderacl.senders,\n\t\t\treaders: notesoup.folderacl.readers,\n\t\t\teditors: notesoup.folderacl.editors\n\t\t});\n\t},\n\t\n\trefresh: function() {\n\t\tvar folder = notesoup.foldername;\n\t\tvar theForm = this.getform();\n\t\tif (theForm) {\n\t\t\tvar f = theForm.getValues()['folder'];\n\t\t\tif (f) folder = f;\n\t\t}\n\t\tnotesoup.getFolderACL(folder, note.updateValues, notesoup.notes[note.id]);\n\t}\n});\nnote.refresh();\n</script>","yPos":195,"height":306,"zIndex":63,"bgcolor":"#99ccff","notename":"Folder Access Control","mtime":1196345178.546662,"sentby":"widgets from widgets/inbox"},{"xPos":801,"from":"soupmaster in soupmaster/@foo","bgcolor":"#FF00FF","text":"","yPos":219,"height":55,"zIndex":74,"width":150,"notename":"Minion","mtime":1196345367.013179},{"xPos":272,"from":"soupmaster in soupmaster/@foo","bgcolor":"#FFFF99","text":"You control who can read, write, or append to a folder by listing usernames in what is called the Folder Access Control List or ACL.<div><br class=\"webkit-block-placeholder\"></div><div>An ACL is just a list of usernames specifying who can (and cannot) do certain things in the folder, like this hypothetical hideout for the Bedrock Gentlemen's Club:</div><div><br class=\"webkit-block-placeholder\"></div><div>fred, barney, -wilma, -betty<br><div><div><br class=\"webkit-block-placeholder\"></div></div></div>","yPos":197,"height":235,"zIndex":66,"width":270,"notename":"How Permissions Work in Note Soup","mtime":1196345190.144649},{"xPos":556,"from":"soupmaster in soupmaster/@foo","bgcolor":"#99CCFF","text":"A user with Read permission can open the folder and do anything to the notes there except save changes to them.<br/>\n","yPos":441,"height":100,"zIndex":40,"width":"250","notename":"Read Permission","mtime":1196345355.627328},{"xPos":805,"from":"soupmaster in soupmaster/@foo","bgcolor":"#FF00FF","text":"","yPos":462,"height":55,"zIndex":76,"width":140,"notename":"Voyeur","mtime":1196345372.981166},{"xPos":16,"from":"soupmaster in soupmaster/@foo","bgcolor":"#CCFFCC","text":"<span style=\"font-size: -webkit-xxx-large;\">The Access Control Lab</span><br>\n","yPos":35,"height":152,"zIndex":67,"width":520,"notename":"Welcome","mtime":1196345232.506638},{"xPos":807,"from":"soupmaster in soupmaster/@foo","bgcolor":"#FF00FF","text":"","yPos":337,"height":55,"zIndex":75,"width":140,"notename":"Participant","mtime":1196345370.048994}],"notename":"backup of widgets/access","mtime":1196346356.698581,"id":"notepR3j8NFB"}