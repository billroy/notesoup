{"syncme":true,"xPos":610,"from":"widgets in widgets/cards","width":140,"text":"<script type='text/javascript'>\n/**\n*\tcard.js - Note Soup playing card widget\n*\tCopyright 2007 by Bill Roy\n*\tAll rights reserved.\n*/\nvar note = notesoup.ui.getEnclosingNote(this);\nnote.set({\n\twidth: 140,\n\tbgcolor: '#f9f9f9',\n\tcurrentImage: 0,\n\timages: [\n\t\t'/images/cards_png/b1fv.png',\n\t\t'/images/cards_png/h2.png'\n\t],\n\n\tpick: function(list) {\n\t\treturn '' + list[Math.floor(Math.random() * list.length)];\n\t},\n\n\tgetcolor: function() {\n\t\treturn this.cardcolor || this.pick(['b1','b2']);\n\t},\n\t\n\tgetrank: function(bias) {\n\t\treturn this.rank || bias ? this.pick(['1','k','q']) : this.pick([2,3,4,5,6,7,8,9,10,'j','q','k','1']);\n\t},\n\n\tgetsuit: function() {\n\t\treturn this.suit || this.pick(['s','h','d','c']);\n\t},\n\n\tmakecard: function(bias) {\n\t\tvar base = '/images/cards_png/';\n\t\tthis.images[0] = base + this.getcolor() + 'fv.png';\n\t\tthis.images[1] = base + this.getsuit() + this.getrank(bias) + '.png';\n\t},\n\t\n\tonrender: function() {\n\t\tvar markup = [\n\t\t\t\"<img style='width:100%;' src='\",\n\t\t\tthis.images[this.currentImage],\n\t\t\t\"'/>\"\n\t\t].join('');\n\t\tthis.setContentDiv(markup);\n\t},\n\n\tclick: function(e) {\n\t\tthis.makecard(e ? e.shiftKey : false);\n\t\tthis.currentImage = this.currentImage + 1;\n\t\tif (this.currentImage >= this.images.length)\n\t\t\tthis.currentImage = 0;\n\t\tthis.show();\n\t}\n});\nExt.get(note.id+'_content').on('click', note.click, note);\nnote.show();\n</script>","yPos":396,"height":168,"zIndex":6,"bgcolor":"#f9f9f9","currentImage":0,"notename":"","mtime":1196619702.678709,"images":["/images/cards_png/b1fv.png","/images/cards_png/h2.png"],"sentby":"demo from demo/cards","id":"noteyt09Pa08"}