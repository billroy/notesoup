{"xPos":215,"from":"system in system/welcome","bgcolor":"#99CCFF","allowcreate":true,"text":"<script type='text/javascript'>\n/**\n*\tloginform.js - Note Soup login widget\n*\tCopyright 2007 by Bill Roy\n*\tAll rights reserved.\n*/\nvar note = notesoup.ui.getEnclosingNote(this);\nnote.set({\n\n\tallowcreate: true,\n\n\tonrender: function() {\n\n\t\tvar buttons = [{\n\t\t\ttext: 'log in',\n\t\t\thandler: this.submit,\n\t\t\tscope: this\n\t\t}];\n\n\t\tif (this.allowcreate) {\n\t\t\tbuttons.push({\n\t\t\t\ttext: 'create account',\n\t\t\t\thandler: this.create,\n\t\t\t\tscope: this\n\t\t\t});\n\t\t}\n\n\t\tvar loginForm = new Ext.FormPanel({\n\t\t\tlabelWidth: 75,\n\t\t\twidth: this.width - 36,\n\t\t\tbodyStyle: 'background:' + (this.bgcolor || notesoup.ui.defaultNoteColor),\n\t\t\tborder: false,\n\t\t\tbodyBorder: false,\n\n\t\t\titems: [{\n\t\t\t\txtype: 'textfield',\n\t\t\t\tfieldLabel: 'Username',\n\t\t\t\tid: this.getFieldID('username'),\n\t\t\t\twidth: 175\n\t\t\t},{\n\t\t\t\txtype: 'textfield',\n\t\t\t\tfieldLabel: 'Password',\n\t\t\t\tid: this.getFieldID('password'),\n\t\t\t\twidth: 175,\n\t\t\t\tinputType: 'password'\n\t\t\t}],\n\t\t\tbuttons: buttons,\n\t\t\tkeys: [{key: 13, fn: this.submit, scope: this}]\n\t\t});\n\n\t\tvar thediv = this.getContentDiv();\n\t\tthediv.innerHTML = '<br/>';\n\t\tloginForm.render(thediv);\n\t\tthis.setEphemeral('loginForm', loginForm);\n\t},\n\n\tcreate: function(e) {\n\t\tif (!this.allowcreate) {\n\t\t\tnotesoup.say('Account creation is not enabled.  Please contact the soupmaster.');\n\t\t\treturn;\n\t\t}\n\t\tnotesoup.createUser(this.getField('loginForm', 'username'), this.getField('loginForm', 'password'));\n\t},\n\n\n\tsubmit: function(e) {\n\t\t//notesoup.say('Login: ' + this.getField('loginForm', 'username') + ' ' + this.getField('loginForm', 'password'));\n\t\tnotesoup.login(this.getField('loginForm', 'username'), this.getField('loginForm', 'password'));\n\t}\n});\nnote.show();\n</script>","yPos":175,"height":144,"zIndex":291,"width":"250","notename":"Log In Here","mtime":1203372473,"id":"noteSRUDaqQX"}