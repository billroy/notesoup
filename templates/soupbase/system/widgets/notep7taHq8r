{"syncme":true,"xPos":274,"from":"system in system/widgets","width":250,"imports":"http://chowder.notesoup.net/js-src/js-widgets/chatty.js","yPos":156,"height":188,"zIndex":11,"bgcolor":"#ccffcc","text":"<script type='text/javascript'>\n/**\n*\tchatty.js - Note Soup chat widget\n*\tCopyright 2007 by Bill Roy\n*\tAll rights reserved.\n*/\nvar note = notesoup.ui.getEnclosingNote(this);\nnote.set({\n\n\tsendit: function() {\n\t\tvar to = this.getField('chattyForm', 'to');\n\t\tvar msg = this.getField('chattyForm', 'msg');\n\t\tif (to && msg) notesoup.postEvent('/talk/' + to, 'say', msg);\n\t},\n\t\n\tping: function() {\n\t\tvar to = this.getField('chattyForm', 'to');\n\t\tif (to) notesoup.postEvent('/talk/' + to, 'say', 'Ping!');\n\t},\n\n\tresetForm: function() {\n\t\tthis.setField('chattyForm', 'msg', '');\n\t\tnotesoup.say('Message sent.');\n\t},\n\n\tonrender: function() {\n\n\t\tvar chattyForm = new Ext.FormPanel({\n\t\t\t//labelWidth: 75,\n\t\t\tlabelalign: 'top',\n\t\t\twidth: this.width - 36,\n\t\t\tbodyStyle: 'background:' + (this.bgcolor || notesoup.ui.defaultNoteColor),\n\t\t\tborder: false,\n\t\t\tbodyBorder: false,\n\t\t\titems: [{\n\t\t\t\txtype: 'textfield',\n\t\t\t\tfieldLabel: 'To',\n\t\t\t\tname: 'to',\n\t\t\t\tid: this.getFieldID('to'),\n\t\t\t\twidth: this.width - 36 - 86\n\t\t\t},{\n\t\t\t\txtype: 'textarea',\n\t\t\t\tfieldLabel: 'Say',\n\t\t\t\tname: 'msg',\n\t\t\t\tid: this.getFieldID('msg'),\n\t\t\t\twidth: this.width - 36 - 86\n\t\t\t}],\n\t\t\tbuttons: [{\n\t\t\t\ttext: 'Ping',\n\t\t\t\thandler: this.ping,\n\t\t\t\tscope: this\n\t\t\t},{\n\t\t\t\ttext: 'Send',\n\t\t\t\thandler: this.sendit,\n\t\t\t\tscope: this\n\t\t\t},{\n\t\t\t\ttext: 'Done',\n\t\t\t\thandler: this.destroy,\n\t\t\t\tscope: this\n\t\t\t}],\n\t\t\tkeys: [{\n\t\t\t\tkey: 13,\n\t\t\t\tfn: this.sendit,\n\t\t\t\tscope: this\n\t\t\t}]\n\t\t});\n\n\t\tthis.setContentDiv('<br/>');\n\t\tchattyForm.render(this.getContentDiv());\n\t\tthis.setEphemeral('chattyForm', chattyForm);\n\t}\n});\nnote.show();\n</script>","notename":"Send a Message","mtime":1203791184,"id":"notep7taHq8r"}