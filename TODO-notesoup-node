
- BUG: Fix The Blocking Widgets Bug
	- bug: oops gen 1
	- TypeError: 'null' is not an object (evaluating 'note.set')
	- http:// imports fetch using /geturl!

- bug: note color change doesn't go on notify bus, waits for sync instead

- bug: why are numeric noteids failing on the client?
	- actually it's not numeric id's it's "[Object object]" notes

- Sessions and session store in socket.io
	- username
	- requires: cookie store (file cookie store ok?)
	- requires: .userinfo / apicreateuser
	- enables: api_login

- API buildout 
	- big: access control checks across the API

- bugs:
	- bug: mtimes in the note, or not?
		- savenote, sendnote, loadfiles
	- bug: same for id?

Ext v99?  Touch?  Mac?


	# Only a few methods are allowed if we're not logged in
**	if method == 'knockknock': return apiknockknock(params)
*	if method == 'login': return apilogin(params)
**	if method == 'logout': return apilogout(params)

*	if method == 'createuser': return apicreateuser(params)
	if method == 'getfeed': return apigetfeed(params)
	if method == 'getnote': return apigetnote(params)

	# Command below this point are only allowed for logged-in requestors

	if method == 'geturl': return apigeturl(params)
		- this is required to load widget .js on the fly

	if method == 'gettemplatelist': return apigettemplatelist(params)
		- needs 'requestor' - logged in user from session

	if method == 'setfolderpassword': return apisetfolderpassword(params)
		- use api_setfolderacl {password: password}
		- checking the password requires http auth or equiv.

	if method == 'getfolderacl': return apigetfolderacl(params)

	if method == 'deletefolder': return apideletefolder(params)
	if method == 'copyfolder': return apicopyfolder(params)
	if method == 'emptytrash': return apiemptytrash(params)

	# createuser is above in pre-login
	if method == 'deleteuser': return apideleteuser(params)

	if method == 'postevent': return apipostevent(params)
