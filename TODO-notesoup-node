Notesoup/Node/Redis TODO list
12/23/11 -br


- BUG: savenote: accept note list
	- note backup/restore depends on it and fails because it isn't accepted

- BUG: Fix The Blocking Widgets Bug
	- bug: oops gen 1
	- TypeError: 'null' is not an object (evaluating 'note.set')
	- http:// imports fetch using /geturl!

- bug: note color change doesn't go on notify bus, waits for sync instead
	- notify plumbing (tofolder...)
- bug: /say blah
	- "undefined says: blah"
	- username wiring in the message layer

- q: where is connect saving the file session store?

- startup: auto load system and widgets if they aren't there
- startup: command line option for push server on/off
	- npm install optimist

- loadnotes: capture .files for acl
- dumpnotes
- guest user: initial content in template/soupbase
	- folder permissions
	- welcome/help
	- auto-refresh every 15 minutes

- API buildout 
	- big: access control checks across the API

- bug: css for note titles is different from tiny soup?!

- bugs:
	- bug: mtimes in the note, or not?
		- savenote, sendnote, loadfiles
	- bug: same for id?

Ext v99?  Touch?  Mac?


- bug: # Only a few methods are allowed if we're not logged in

	if method == 'getfeed': return apigetfeed(params)
	if method == 'getnote': return apigetnote(params)

	# Command below this point are only allowed for logged-in requestors

	if method == 'geturl': return apigeturl(params)
		- this is required to load widget .js on the fly

	if method == 'gettemplatelist': return apigettemplatelist(params)
		- needs 'requestor' - logged in user from session

	if method == 'setfolderpassword': return apisetfolderpassword(params)
		- use api_setfolderacl {password: password}
		- checking the password requires http auth or equiv.

	if method == 'getfolderacl': return apigetfolderacl(params)

	if method == 'copyfolder': return apicopyfolder(params)

	# createuser is above in pre-login
	if method == 'deleteuser': return apideleteuser(params)

	if method == 'postevent': return apipostevent(params)
